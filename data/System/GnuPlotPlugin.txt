%META:TOPICINFO{author="ProjectContributor" comment="" date="1468236404" format="1.1"  version="1"}%
---+!! %TOPIC% 
%FORMFIELD{"Description"}%

Gnuplot is a portable graphing utility. It was originally
created to allow scientists and students to visualize mathematical functions
and data interactively, but has grown to support many non-interactive uses such
as web scripting. It is also used as a plotting engine by third-party
applications like Octave. Gnuplot has been supported and under active
development since 1986.

See the full documentation of gnuplot itself at http://www.gnuplot.info/documentation.html

%TOC%

---++ Syntax Rules 

Images are generated using the =%<nop>GNUPLOT{&lt;parameters>}%= macro. It can either read the plot script from a named section or from a plot script attached to a topic.

| *Parameter* | *Description* | *Default* |
| ="..."= | name of section in =mode="section"=; name of attachment in =mode="attachment"= | |
| =mode="attachment%VBAR%section"= | specifies the mode of operation | attachment |
| =attachtopic="..."= | name of the topic where to attach the output of gnuplot | current topic |
| =topic="..."= | name of a topic to read a section (or attachment) from | current topic |
| =type="gif%VBAR%jpeg%VBAR%png%VBAR%svg"= | terminal and file type being generated; note that not all terminal types of gnuplot make sense online | png |
| =width="&lt;integer>"= | width of the image being generated | 640 |
| =height="&lt;integer>"= | height of the image being generated | 480 |
| =size="&lt;integer>x&lt;integer>%VBAR%dynamic%VBAR%fixed"= | geometry of the image being generated; values =dynamic= and =fixed= only make sense for =type="svg"= | =$width x $height= |
| =format="..."= | format string to render the output image | =&lt;img src='$url' class='gnuPlotImage' id='gnuplot$name' alt='$name' width='$width' height='$height' /&gt;= |

The =format= string may use the following variables:

   * =$url=: url to the image file being created
   * =$web=: web name where the image has been created
   * =$topic=: topic name where the image has been attached
   * =$file=: file name of the image
   * =$name=: name of the source image
   * =$width=: width of the image being created
   * =$height=: height

In addition to the normal gnuplot syntax for plot scripts, they might contain Foswiki makros which are expanded in the context of the =topic= specified.
To reference data files attached to a plot script the variables =%ATTACHDIR%= and =%PUBDIR%= are supported to properly determine the location of those.

For example below "Damped Sinus" script looks like this:

<verbatim>
set title "Damped Sinus"
set nokey
set xlabel "X Axis Label"
set ylabel "Y Axis Label"
plot '%ATTACHDIR%/DampedSinus.data'
</verbatim>

---++ Examples 

The following images are examples of plots generated by !GnuPlot:

---+++ Simple function test 

%IF{"context GnuPlotPluginEnabled"
   then="$percntGNUPLOT{\"TestInstall\" type=\"svg\"}$percnt"
   else="<img src='%ATTACHURLPATH%/gnuplot_655072823f5c098a63bd1bb4b51d43fd_TestInstall.svg' alt='TestInstall' width='639' height='517' />"
}%

---+++ Multi graphs with errorbars, datafile based

%IF{"context GnuPlotPluginEnabled"
  then="$percntGNUPLOT{\"MultigraphWithErrorbars\" type=\"svg\"}$percnt"
  else="<img src='%ATTACHURLPATH%/gnuplot_56c40163966ced3994a99fc1f060f6e1_MultigraphWithErrorbars.svg' alt="MultigraphWithErrorbars' width='631' height='517' />"
}%

---+++ Damped sinus, datafile based

%IF{"context GnuPlotPluginEnabled"
  then="$percntGNUPLOT{\"DampedSinus\" type=\"svg\"}$percnt"
  else="<img src='%ATTACHURLPATH%/gnuplot_c96b576d7a7ff521cf242137e3a73048_DampedSinus.svg' alt='DampedSinus' width='647' height='516' />"
}%

---+++ Map of Denmark, datafile based (data from CIA World Data Bank II)

%IF{"context GnuPlotPluginEnabled"
  then="$percntGNUPLOT{\"CIAWorldDataBankIIDenmark\" type=\"svg\"}$percnt"
  else="<img src='%ATTACHURLPATH%/gnuplot_1ac8b9f150aeb9dd95e56ca9e8977a07_CIAWorldDataBankIIDenmark.svg' alt='CIAWorldDataBankIIDenmark' width='635' height='518' />"
}%

---+++ Interlocking Tori (3D)

%IF{"context GnuPlotPluginEnabled"
  then="$percntGNUPLOT{\"InterlockingTori\" type=\"svg\"}$percnt"
  else="<img src='%ATTACHURLPATH%/gnuplot_26c785a639935a588e205850a8744f76_InterlockingTori.svg' alt='InterlockingTori' />"
}%

---+++ Blue Whale (3D), datafile based

%IF{"context GnuPlotPluginEnabled"
  then="$percntGNUPLOT{\"BlueWhale\" type=\"svg\"}$percnt"
  else="<img src='%ATTACHURLPATH%/gnuplot_0578c5af104caee4c9eefcf4183da270_BlueWhale.svg' alt='BlueWhale'  />"
}%

---+++ Alternative <nop>GnuPlot render sizes, Rosenbrock Function

%IF{"context GnuPlotPluginEnabled"
  then="$percntGNUPLOT{\"RosenbrockFunction\" type=\"svg\"}$percnt"
  else="<img src='%ATTACHURLPATH%/gnuplot_dc49080a70cc4879a80c08603cb17eef_RosenbrockFunction.svg' alt='RosenbrockFunction' width='640' height='480' />"
}%

---++ Installation
%$INSTALL_INSTRUCTIONS%

---++ Dependencies
%$DEPENDENCIES%

---++ Change History
| 11 Jul 2016: | added =attachtopic= and =format= parameters (Foswiki:Main.MichaelDaum) |
| 30 Apr 2014: | rewrite (Foswiki:Main.MichaelDaum) |
| 30 Apr 2006: | Added sandbox security mechanism (Foswiki:Main.SteffenPoulsen) |
| 19 Apr 2006: | Fixed anchors, added 3D examples, added png size option (Foswiki:Main.SteffenPoulsen) |
| 17 Apr 2006: | Doc update, changed working dir to ATTACHURLPATH (Foswiki:Main.SteffenPoulsen) |
| 27 Jan 2006: | Initial version |

%META:FILEATTACHMENT{name="InterlockingTori.gnu" attr="" autoattached="1" comment="" date="1468236404" size="324" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="TestInstall.gnu" attr="" autoattached="1" comment="" date="1468236404" size="100" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="MultigraphWithErrorbars.gnu" attr="" autoattached="1" comment="" date="1468236404" size="434" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="DampedSinus.gnu" attr="" autoattached="1" comment="" date="1468236404" size="126" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="BlueWhale.gnu" attr="" autoattached="1" comment="" date="1468236404" size="179" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="CIAWorldDataBankIIDenmark.gnu" attr="" autoattached="1" comment="" date="1468236404" size="182" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="whale.dat" attr="" autoattached="1" comment="" date="1468236404" size="94590" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="RosenbrockFunction.gnu" attr="" autoattached="1" comment="" date="1468236404" size="700" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="CIAWorldDataBankIIDenmark.data" attr="" autoattached="1" comment="Data for <nop>CIAWorldDataBankIIDenmark example" date="1468236404" size="403115" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="MultigraphWithErrorbars.data" attr="" autoattached="1" comment="Data for <nop>MultigraphWithErrorbarsData example" date="1468236404"  size="66" user="ProjectContributor" version="1"}%
%META:FILEATTACHMENT{name="DampedSinus.data" attr="" autoattached="1" comment="Data for <nop>DampedSinusData example" date="1468236404" size="4091" user="ProjectContributor" version="1"}%
%META:FORM{name="PackageForm"}%
%META:FIELD{name="Author" title="Author" value="TWiki:Main.AbieSwanepoel, Foswiki:Main.MichaelDaum"}%
%META:FIELD{name="Copyright" title="Copyright" value="&copy; 2006 TWiki:Main.AbieSwanepoel; 2007-2016 Foswiki Contributors https://foswiki.org"}%
%META:FIELD{name="Description" title="Description" value="%25$SHORTDESCRIPTION%25"}%
%META:FIELD{name="Home" title="Home" value="https://foswiki.org/Extensions/%TOPIC%"}%
%META:FIELD{name="License" title="License" value="GPL ( [[http://www.gnu.org/copyleft/gpl.html][GNU General Public License]])"}%
%META:FIELD{name="Release" title="Release" value="%$RELEASE%"}%
%META:FIELD{name="Repository" title="Repository" value="https://github.com/foswiki/%TOPIC%"}%
%META:FIELD{name="Support" title="Support" value="https://foswiki.org/Support/%TOPIC%"}%
%META:FIELD{name="Version" title="Version" value="%$VERSION%"}%
